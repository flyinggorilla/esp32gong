<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height"
	/>
	<!-- embed phonon stylesheets and javascript directly here -->
	<style name="phonon-base.min.css" phononversion="1.4.5"> 
		html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}b,strong{font-weight:700}h1{font-size:2em;margin:.67em 0}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*,:after,:before{box-sizing:border-box}body,html{position:relative;height:100%;width:100%;overflow-x:hidden}html{-ms-touch-action:pan-y;touch-action:pan-y}body{top:0;right:0;bottom:0;left:0;margin:0;padding:0;word-wrap:break-word;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-user-drag:none;-ms-content-zooming:none;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}body,button,input,label,p,select,textarea{font-size:14px;font-family:Helvetica Neue,Roboto,Segoe UI,sans-serif}body,button,input,label,p,select,textarea{font-weight:400;color:#333}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:10px;line-height:1;font-weight:400}h1{font-size:36px}h2{font-size:30px}h3{font-size:24px}h4{font-size:18px}h5{font-size:14px}h5,h6{margin-top:20px}h6{font-size:12px}p{margin-top:0;margin-bottom:10px}.content{position:absolute;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch}input,select,textarea{-webkit-touch-callout:default;-moz-user-select:all;-ms-user-select:all;user-select:all;-webkit-user-select:auto}a{color:#0084e7;text-decoration:none}button{border:none;outline:none}.app-page{display:block;visibility:hidden;position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden;z-index:1;background-color:#fff}.app-page.app-active{visibility:visible;z-index:2}.app-page.page-sliding.left{z-index:3;-webkit-animation:a .3s ease-out;animation:a .3s ease-out}.app-page.page-sliding.right{z-index:4;-webkit-animation:b .3s ease-out;animation:b .3s ease-out}@-webkit-keyframes a{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}}@keyframes a{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}}@-webkit-keyframes b{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(50%,0,0);transform:translate3d(50%,0,0)}}@keyframes b{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(50%,0,0);transform:translate3d(50%,0,0)}}.btn.negative,.btn.positive,.btn.primary{color:#fff!important}.primary{background-color:#0084e7!important}.primary.btn-flat{color:#0084e7!important;background-color:transparent!important}.positive{background-color:#0ae700!important}.positive.btn-flat{color:#0ae700!important;background-color:transparent!important}.negative{background-color:#f40b00!important}.negative.btn-flat{color:#f40b00!important;background-color:transparent!important}.light-primary{background-color:#b9d3e7!important}.light-positive{background-color:#bbe7b9!important}.light-negative{background-color:#f4c5c3!important}.dark-primary{background-color:#0067b5!important}.dark-positive{background-color:#08b500!important}.dark-negative{background-color:#c20900!important}.btn{position:relative;padding:0 12px;min-height:42px;color:#333;text-align:center;vertical-align:top;cursor:pointer;outline:none;text-transform:uppercase;border:none;border-radius:3px;background-color:#f1f1f1;-webkit-transition:background-color .25s ease-in-out;transition:background-color .25s ease-in-out}.btn,.btn .icon{display:inline-block;line-height:1}.btn .icon{font-size:inherit;color:inherit}.btn:not(.btn-progress):disabled{opacity:.75}.btn-flat{background-color:transparent!important}.btn:active{opacity:.85}.floating-action{position:fixed;padding:16px;border-radius:50%;box-shadow:0 2px 3px #8a8a8a;z-index:30;color:#fff;opacity:.5;-webkit-transform:.3s,opacity .25s linear;transform:.3s,opacity .25s linear}.floating-action.active,.floating-action:active{opacity:1}.floating-action.top{top:68px}.floating-action.bottom{bottom:16px}.floating-action.left{left:16px}.floating-action.right{right:16px}.buttons{list-style:none;text-align:right;margin:0;padding:0}.buttons li{display:inline-block}.buttons li a{height:48px;line-height:48px;vertical-align:middle;font-weight:700;min-width:60px;padding:0 8px}.header-bar{position:fixed;right:0;left:0;z-index:20;width:100%;height:52px;overflow:hidden;background-color:#0084e7;border-bottom:0 solid #2e2bc9;-webkit-backface-visibility:hidden;backface-visibility:hidden}.header-bar .center{position:absolute;text-align:center;top:0;right:0;left:0}.header-bar .pull-left{padding-left:16px}.header-bar .pull-right{padding-right:16px}.header-bar .title{z-index:21;font-size:20px;color:#fff;height:52px;line-height:52px;vertical-align:middle}.header-bar .center .title{margin:0 auto}.header-bar .arrow{cursor:pointer}.header-bar .arrow:after{position:relative;width:0;height:0;top:16px;left:6px;content:"";border-right:4px solid transparent;border-top:5px solid #fff;border-left:4px solid transparent}.header-bar .btn{position:relative;z-index:22;padding:0 12px;height:52px;line-height:52px;vertical-align:middle;color:#fff;background-color:transparent;border:none;border-radius:0}.header-bar .btn:active{opacity:1;background-color:#0084e7;background-color:rgba(0,0,0,.1)}.header-bar .search-input{width:75%;position:absolute;height:52px;color:#fff;background-color:transparent;border:none}.header-bar .search-input::-webkit-input-placeholder{color:#fff}.header-bar .search-input:-moz-placeholder,.header-bar .search-input::-moz-placeholder{color:#fff}.header-bar .search-input:-ms-input-placeholder{color:#fff}.header-bar~.content{margin-top:52px}.header-bar~.header-tabs{top:52px}.header-bar~.header-tabs~.content{margin-top:102px}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.pull-left{float:left!important}.pull-right{float:right!important}.fit-parent{width:100%}.show-for-android-only,.show-for-ios-only,.show-for-large-only,.show-for-phone-only,.show-for-tablet-only,.show-for-tablet-up,.show-for-web-only{display:none!important}.android .show-for-android-only,.ios .show-for-ios-only,.web .show-for-web-only{display:inherit!important}@media only screen and (max-width:640px){.show-for-phone-only{display:inherit!important}.padded-full{margin:16px}.padded-top{margin-top:16px}.padded-left{margin-left:16px}.padded-right{margin-right:16px}.padded-bottom{margin-bottom:16px}}@media only screen and (min-width:641px) and (max-width:1024px){.show-for-tablet-only{display:inherit!important}}@media only screen and (min-width:641px){.show-for-tablet-only,.show-for-tablet-up{display:inherit!important}.padded-full{margin:32px}.padded-top{margin-top:32px}.padded-left{margin-left:32px}.padded-right{margin-right:32px}.padded-bottom{margin-bottom:32px}.notification{width:450px!important}.dialog{width:380px!important}.side-panel{width:28%!important}.header-bar .pull-left{padding-left:32px}.header-bar .pull-right{padding-right:32px}.expose-aside-left,.expose-aside-left .panel-full{width:72%;margin-left:28%}.expose-aside-left .notification{left:28%}.expose-aside-right{width:72%}.expose-aside-right .panel-full{width:72%;margin-right:28%}}@media only screen and (min-width:1025px){.show-for-tablet-only{display:none!important}.show-for-large-only,.show-for-tablet-up{display:inherit!important}}	
	</style>
	<style name="lists.min.css" phononversion="1.4.5">
		.list{position:relative;padding:0;margin:0;list-style:none}.list li{height:auto;min-height:51px;line-height:52px;overflow:hidden;display:block;border-bottom:1px solid #eee}.list li a{width:100%;height:100%;display:block;color:#000;-webkit-transition:background-color .25s ease-in-out;transition:background-color .25s ease-in-out}.list li a:active{background-color:#eee}.list li .pull-left,.list li .pull-right{width:52px;height:52px;line-height:52px;vertical-align:middle;text-align:center;z-index:1}.list li .item-content{display:inline-block;padding:8px 15px;line-height:78px}.list li .accordion-content{position:absolute;height:auto;visibility:hidden;padding:0 16px;background-color:#f9f9f9}.list li .accordion-active,.list li .accordion-content{-webkit-transition:max-height .3s ease-in-out;transition:max-height .3s ease-in-out}.list li .accordion-active{position:relative;visibility:visible}.list li .body,.list li .title{line-height:31px;display:block}.list li .body{font-size:13px;color:#777}.list .item-expanded{height:78px;line-height:78px}.list .item-expanded .pull-left,.list .item-expanded .pull-right{width:78px;height:78px;line-height:78px}.list .divider{height:48px;line-height:48px;font-size:16px;background-color:#f5f5f5}.list .divider,.list .padded-list{padding:0 16px}	
	</style>
	<style name="forms.min.css" phononversion="1.4.5">
		input[type=button],input[type=reset],input[type=submit]{width:100%}input[type=color],input[type=date],input[type=datetime-local],input[type=datetime],input[type=email],input[type=month],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=time],input[type=url],input[type=week],select,textarea{width:100%;height:48px;line-height:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#636363;background-color:#fff;border:none;border-bottom:1px solid #ddd;outline:none}.input-invalid,input:invalid{border-bottom-width:2px!important;border-color:#e53935!important}input::-webkit-input-placeholder{padding:0;font-size:14px;color:#999}input[type=color]:focus,input[type=date]:focus,input[type=datetime-local]:focus,input[type=datetime]:focus,input[type=email]:focus,input[type=month]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=time]:focus,input[type=url]:focus,input[type=week]:focus,select:focus,textarea:focus{border-bottom-width:2px;border-color:#0084e7}label{width:100%;display:inline-block;height:48px;line-height:48px}.list label{height:52px;line-height:52px}.checkbox input[type=checkbox],.radio input[type=radio]{display:none}.checkbox,.radio{position:relative}.checkbox .text,.radio .text{border:none}.checkbox span:not(.text),.radio span:not(.text){-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;content:"";position:absolute;float:right;top:16px;right:0;width:20px;height:20px;border:2px solid #ddd}.checkbox :checked+span:not(.text),.radio :checked+span:not(.text){-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border-radius:0;height:.65rem;border-color:#0084e7;border-top-style:none;border-right-style:none}.radio span{border-radius:50%}.input-wrapper{margin-top:24px;position:relative;vertical-align:top}.floating-label,.input-wrapper{width:100%;display:inline-block}.floating-label{position:absolute;top:0;left:0;text-align:left;line-height:48px;height:auto;font-size:14px;color:#999;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-transition:all .2s;transition:all .2s}.input-filled .floating-label,.with-label:focus+.floating-label{-webkit-transform:translate3d(0,-60%,0);transform:translate3d(0,-60%,0);font-size:12px}
	</style>
	<style name="icons.min.css" phononversion="1.4.5">
		@font-face{font-family:MaterialDesignIcons;src:url(../fonts/material-design-icons.eot);src:url(../fonts/material-design-icons.eot) format("embedded-opentype"),url(../fonts/material-design-icons.woff) format("woff"),url(../fonts/material-design-icons.ttf) format("truetype"),url(../fonts/material-design-icons.svg#material-design-icons) format("svg");font-weight:400;font-style:normal}.icon{display:inline-block;font-family:MaterialDesignIcons;font-size:24px;line-height:1;text-decoration:none;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-home:before{content:"\e600"}.icon-info-outline:before{content:"\e601"}.icon-settings:before{content:"\e606"}.icon-add:before{content:"\e602"}.icon-edit:before{content:"\e603"}.icon-arrow-back:before{content:"\e604"}.icon-arrow-forward:before{content:"\e60a"}.icon-check:before{content:"\e605"}.icon-chevron-left:before{content:"\e609"}.icon-chevron-right:before{content:"\e60f"}.icon-close:before{content:"\e608"}.icon-expand-less:before{content:"\e610"}.icon-expand-more:before{content:"\e611"}.icon-menu:before{content:"\e60b"}.icon-more-horiz:before{content:"\e60c"}.icon-more-vert:before{content:"\e60d"}.icon-sync:before{content:"\e60e"}.icon-sync-problem:before{content:"\e607"}.icon-star:before{content:"\e612"}.icon-star-outline:before{content:"\e613"}i.icon{font-style:normal}.with-circle{padding:10px;border-radius:50%;border:1px solid #eee}
	</style>
	<style name="custom.css" phononversion="1.4.5">
		#progressbar { border: 1px solid #eee; position: relative; height: 30px;}
		#progressbarinner { height: 100%; width: 100%; background-color: #0084e7; position: absolute; left: 0; top: 0; transition: width 0.1s ease; color: transparent;}
		#nextButton { line-height: 42px; transition: all 0.2s ease;}
		#nextButton[hidden] {opacity: 0; pointer-events: none;}
	</style>
	<script name="phonon-core.min.js" phononversion="1.4.5">
		(function(){"use strict";function e(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function t(e,t,n){var a={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(a=a[/[\d.]+$/.exec(e)])&&(e="Windows "+a),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=o(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=m)for(;++n<o;)t(e[n],n,e);else a(e,t)}function o(t){return t=c(t),/^(?:webOS|i(?:OS|P))/.test(t)?t:e(t)}function a(e,t){for(var n in e)E.call(e,n)&&t(e[n],n,e)}function i(t){return null==t?e(t):S.call(t).slice(8,-1)}function r(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function l(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function s(e,t){var o=null;return n(e,function(n,a){o=t(o,n,a,e)}),o}function c(e){return String(e).replace(/^ +| +$/g,"")}function u(e){function n(t){return s(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}function f(t){return s(t,function(t,n,o){return t||(n[z]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(z)]||RegExp("\\b"+l(o)+"(?:\\b|\\w*\\d)","i").exec(e))&&o})}function h(t){return s(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}function b(n){return s(n,function(n,o){var a=o.pattern||l(o);return!n&&(n=RegExp("\\b"+a+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(n=t(n,a,o.label||o)),n})}function g(t){return s(t,function(t,n){var a=n.pattern||l(n);return!t&&(t=RegExp("\\b"+a+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+a+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(a,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=o(t[0].replace(RegExp(a,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function m(t){return s(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function x(){return this.description||""}var E=p,w=e&&"object"==typeof e&&"String"!=i(e);w&&(E=e,e=null);var M=E.navigator||{},T=M.userAgent||"";e||(e=T);var C,k,P=w||y==d,O=w?!!M.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(S.toString()),R="Object",L=w?R:"ScriptBridgingProxyObject",A=w?R:"Environment",j=w&&E.java?"JavaPackage":i(E.java),D=w?R:"RuntimeObject",B=/\bJava/.test(j)&&E.java,N=B&&i(E.environment)==A,I=B?"a":"α",F=B?"b":"β",H=E.document||{},W=E.operamini||E.opera,X=v.test(X=w&&W?W["[[Class]]"]:i(W))?X:W=null,$=e,G=[],K=null,U=e==T,V=U&&W&&"function"==typeof W.version&&W.version(),q=n([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),_=h(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),z=g([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),J=f({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),Y=b(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(q&&(q=[q]),J&&!z&&(z=g([J])),(C=/\bGoogle TV\b/.exec(z))&&(z=C[0]),/\bSimulator\b/i.test(e)&&(z=(z?z+" ":"")+"Simulator"),"Opera Mini"==_&&/\bOPiOS\b/.test(e)&&G.push("running in Turbo/Uncompressed mode"),"IE"==_&&/\blike iPhone OS\b/.test(e)?(C=u(e.replace(/like iPhone OS/,"")),J=C.manufacturer,z=C.product):/^iP/.test(z)?(_||(_="Safari"),Y="iOS"+((C=/ OS ([\d_]+)/i.exec(e))?" "+C[1].replace(/_/g,"."):"")):"Konqueror"!=_||/buntu/i.test(Y)?J&&"Google"!=J&&(/Chrome/.test(_)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(z))||/\bAndroid\b/.test(Y)&&/^Chrome/.test(_)&&/\bVersion\//i.test(e)?(_="Android Browser",Y=/\bAndroid\b/.test(Y)?Y:"Android"):"Silk"==_?(/\bMobi/i.test(e)||(Y="Android",G.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&G.unshift("accelerated")):"PaleMoon"==_&&(C=/\bFirefox\/([\d.]+)\b/.exec(e))?G.push("identifying as Firefox "+C[1]):"Firefox"==_&&(C=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(Y||(Y="Firefox OS"),z||(z=C[1])):_&&!(C=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(_))||(_&&!z&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(C+"/")+8))&&(_=null),(C=z||J||Y)&&(z||J||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Y))&&(_=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Y)?Y:C)+" Browser")):Y="Kubuntu",V||(V=m(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",l(_),"(?:Firefox|Minefield|NetFront)"])),(C="iCab"==q&&parseFloat(V)>3&&"WebKit"||/\bOpera\b/.test(_)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(q)&&"WebKit"||!q&&/\bMSIE\b/i.test(e)&&("Mac OS"==Y?"Tasman":"Trident")||"WebKit"==q&&/\bPlayStation\b(?! Vita\b)/i.test(_)&&"NetFront")&&(q=[C]),"IE"==_&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(_+=" Mobile",Y="Windows Phone "+(/\+$/.test(C)?C:C+".x"),G.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(_="IE Mobile",Y="Windows Phone 8.x",G.unshift("desktop mode"),V||(V=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=_&&"Trident"==q&&(C=/\brv:([\d.]+)/.exec(e))&&(_&&G.push("identifying as "+_+(V?" "+V:"")),_="IE",V=C[1]),U){if(r(E,"global"))if(B&&(C=B.lang.System,$=C.getProperty("os.arch"),Y=Y||C.getProperty("os.name")+" "+C.getProperty("os.version")),P&&r(E,"system")&&(C=[E.system])[0]){Y||(Y=C[0].os||null);try{C[1]=E.require("ringo/engine").version,V=C[1].join("."),_="RingoJS"}catch(Q){C[0].global.system==E.system&&(_="Narwhal")}}else"object"==typeof E.process&&!E.process.browser&&(C=E.process)?(_="Node.js",$=C.arch,Y=C.platform,V=/[\d.]+/.exec(C.version)[0]):N&&(_="Rhino");else i(C=E.runtime)==L?(_="Adobe AIR",Y=C.flash.system.Capabilities.os):i(C=E.phantom)==D?(_="PhantomJS",V=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):"number"==typeof H.documentMode&&(C=/\bTrident\/(\d+)/i.exec(e))&&(V=[V,H.documentMode],(C=+C[1]+4)!=V[1]&&(G.push("IE "+V[1]+" mode"),q&&(q[1]=""),V[1]=C),V="IE"==_?String(V[1].toFixed(1)):V[0]);Y=Y&&o(Y)}V&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(V)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(U&&M.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(K=/b/i.test(C)?"beta":"alpha",V=V.replace(RegExp(C+"\\+?$"),"")+("beta"==K?F:I)+(/\d+\+?/.exec(C)||"")),"Fennec"==_||"Firefox"==_&&/\b(?:Android|Firefox OS)\b/.test(Y)?_="Firefox Mobile":"Maxthon"==_&&V?V=V.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(z)?(Y=null,"Xbox 360"==z&&/\bIEMobile\b/.test(e)&&G.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(_)&&(!_||z||/Browser|Mobi/.test(_))||"Windows CE"!=Y&&!/Mobi/i.test(e)?"IE"==_&&U&&null===E.external?G.unshift("platform preview"):(/\bBlackBerry\b/.test(z)||/\bBB10\b/.test(e))&&(C=(RegExp(z.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||V)?(C=[C,/BB10/.test(e)],Y=(C[1]?(z=null,J="BlackBerry"):"Device Software")+" "+C[0],V=null):this!=a&&"Wii"!=z&&(U&&W||/Opera/.test(_)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==_&&/\bOS X (?:\d+\.){2,}/.test(Y)||"IE"==_&&(Y&&!/^Win/.test(Y)&&V>5.5||/\bWindows XP\b/.test(Y)&&V>8||8==V&&!/\bTrident\b/.test(e)))&&!v.test(C=u.call(a,e.replace(v,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),v.test(_)?(/\bIE\b/.test(C)&&"Mac OS"==Y&&(Y=null),C="identify"+C):(C="mask"+C,_=X?o(X.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(C)&&(Y=null),U||(V=null)),q=["Presto"],G.push(C)):_+=" Mobile",(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],"Safari"==_&&"+"==C[1].slice(-1)?(_="WebKit Nightly",K="alpha",V=C[1].slice(0,-1)):V!=C[1]&&V!=(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(V=null),C[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==C[0]&&537.36==C[2]&&parseFloat(C[1])>=28&&"WebKit"==q&&(q=["Blink"]),U&&(O||C[1])?(q&&(q[1]="like Chrome"),C=C[1]||(C=C[0],C<530?1:C<532?2:C<532.05?3:C<533?4:C<534.03?5:C<534.07?6:C<534.1?7:C<534.13?8:C<534.16?9:C<534.24?10:C<534.3?11:C<535.01?12:C<535.02?"13+":C<535.07?15:C<535.11?16:C<535.19?17:C<536.05?18:C<536.1?19:C<537.01?20:C<537.11?"21+":C<537.13?23:C<537.18?24:C<537.24?25:C<537.36?26:"Blink"!=q?"27":"28")):(q&&(q[1]="like Safari"),C=C[0],C=C<400?1:C<500?2:C<526?3:C<533?4:C<534?"4+":C<535?5:C<537?6:C<538?7:C<601?8:"8"),q&&(q[1]+=" "+(C+="number"==typeof C?".x":/[.+]/.test(C)?"":"+")),"Safari"==_&&(!V||parseInt(V)>45)&&(V=C)),"Opera"==_&&(C=/\bzbov|zvav$/.exec(Y))?(_+=" ",G.unshift("desktop mode"),"zvav"==C?(_+="Mini",V=null):_+="Mobile",Y=Y.replace(RegExp(" *"+C+"$"),"")):"Safari"==_&&/\bChrome\b/.exec(q&&q[1])&&(G.unshift("desktop mode"),_="Chrome Mobile",V=null,/\bOS X\b/.test(Y)?(J="Apple",Y="iOS 4.3+"):Y=null),V&&0==V.indexOf(C=/[\d.]+$/.exec(Y))&&e.indexOf("/"+C+"-")>-1&&(Y=c(Y.replace(C,""))),q&&!/\b(?:Avant|Nook)\b/.test(_)&&(/Browser|Lunascape|Maxthon/.test(_)||"Safari"!=_&&/^iOS/.test(Y)&&/\bSafari\b/.test(q[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(_)&&q[1])&&(C=q[q.length-1])&&G.push(C),G.length&&(G=["("+G.join("; ")+")"]),J&&z&&z.indexOf(J)<0&&G.push("on "+J),z&&G.push((/^on /.test(G[G.length-1])?"":"on ")+z),Y&&(C=/ ([\d.+]+)$/.exec(Y),k=C&&"/"==Y.charAt(Y.length-C[0].length-1),Y={architecture:32,family:C&&!k?Y.replace(C[0],""):Y,version:C?C[1]:null,toString:function(){var e=this.version;return this.family+(e&&!k?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec($))&&!/\bi686\b/i.test($)?(Y&&(Y.architecture=64,Y.family=Y.family.replace(RegExp(" *"+C),"")),_&&(/\bWOW64\b/i.test(e)||U&&/\w(?:86|32)$/.test(M.cpuClass||M.platform)&&!/\bWin64; x64\b/i.test(e))&&G.unshift("32-bit")):Y&&/^OS X/.test(Y.family)&&"Chrome"==_&&parseFloat(V)>=39&&(Y.architecture=64),e||(e=null);var Z={};return Z.description=e,Z.layout=q&&q[0],Z.manufacturer=J,Z.name=_,Z.prerelease=K,Z.product=z,Z.ua=e,Z.version=_&&V,Z.os=Y||{architecture:null,family:null,version:null,toString:function(){return"null"}},Z.parse=u,Z.toString=x,Z.version&&G.unshift(V),Z.name&&G.unshift(_),Y&&_&&(Y!=String(Y).split(" ")[0]||Y!=_.split(" ")[0]&&!z)&&G.push(z?"("+Y+")":"on "+Y),G.length&&(Z.description=G.join(" ")),Z}var f={"function":!0,object:!0},p=f[typeof window]&&window||this,d=p,h=f[typeof exports]&&exports,b=f[typeof module]&&module&&!module.nodeType&&module,g=h&&b&&"object"==typeof global&&global;!g||g.global!==g&&g.window!==g&&g.self!==g||(p=g);var m=Math.pow(2,53)-1,v=/\bOpera/,y=this,x=Object.prototype,E=x.hasOwnProperty,S=x.toString,w=u();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(p.platform=w,define(function(){return w})):h&&b?a(w,function(e,t){h[t]=e}):p.platform=w}).call(this),function(e,t){var n={},o=[];n.onReady=function(e){o.push(e)},n.dispatchGlobalReady=function(){for(var e=o.length-1;e>=0;e--)o[e]();o=[],n.dispatchGlobalReady=t},function(){function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:t};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o}n.prototype=e.Event.prototype,e.CustomEvent=n}(),n.device=function(e){return{osVersion:e.os.version,os:e.os.family,platform:e,ANDROID:"Android",IOS:"iOS"}}(e.platform),n.browser=function(e){return{name:e.name,version:e.version,platform:e}}(e.platform),n.ajax=function(){var t=function(e){var t=null;try{t=new XMLHttpRequest,"withCredentials"in t&&e&&(t.withCredentials=!0)}catch(n){console.error(n)}return t},n=function(e){var t=null;try{t=JSON.parse(e)}catch(n){t=null}return t},o=function(e){var t,n="";for(t in e)n+=t+"="+e[t]+"&";var o=n.lastIndexOf("&");return o!==-1&&(e=n.substring(0,o)),n};return function(a){var i=a.method,r=a.url,l="boolean"==typeof a.crossDomain&&a.crossDomain,s=a.contentType,c=a.dataType,u=a.data,f=a.timeout,p=a.success,d=a.error,h=a.headers;if("string"!=typeof i)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");"undefined"==typeof a.contentType&&(a.contentType="application/x-www-form-urlencoded; charset=UTF-8"),"object"==typeof u&&(u="application/json"===s?JSON.stringify(u):o(u));var b=t(l),g="NO_INTERNET_ACCESS";if(b){if(b.open(i,r,!0),"string"==typeof s&&b.setRequestHeader("Content-type",s),"xml"===c&&b.overrideMimeType&&b.overrideMimeType("application/xml; charset=utf-8"),"object"==typeof h){var m;for(m in h)b.setRequestHeader(m,h[m])}b.onreadystatechange=function(t){if(4===b.readyState){var o=null;"json"===c?(o=n(b.responseText),null===o&&(g="JSON_MALFORMED")):o="xml"===c?b.responseXML:b.responseText;var a=b.status.toString();"2"===a[0]&&"function"==typeof p?p(o,b):"function"==typeof d&&e.setTimeout(function(){d(o,g,b)},1),b=null}},"number"==typeof f&&(b.timeout=f,b.ontimeout=function(){g="TIMEOUT_EXCEEDED"}),b.send(u)}else"function"==typeof d&&(g="XMLHTTPREQUEST_UNAVAILABLE",d(g));return{cancel:function(){g="REQUEST_CANCELED",b&&b.abort()}}}}(),n.event=function(o){var a=["mousedown","mousemove","mouseup"],i=!1;("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,a=["touchstart","touchmove","touchend","touchcancel"]),e.navigator.pointerEnabled?a=["pointerdown","pointermove","pointerup","pointercancel"]:e.navigator.msPointerEnabled&&(a=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var r={};r.hasTouch=i,r.start=a[0],r.move=a[1],r.end=a[2],r.cancel="undefined"==typeof a[3]?null:a[3],r.tap="tap",r.forceTap=!1;var l=document.createElement("div"),s=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],c=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],u=null,f=null,p=s.length-1;for(p in s)if(l.style[s[p].name]!==t){u=s[p].end;break}var d=c.length-1;for(d in c)if(l.style[c[d].name]!==t){f=c[d].end;break}var h=n.device.osVersion;h&&h.length>2&&(h=n.device.osVersion.substring(0,3)),n.device.os&&"android"===n.device.os.toLowerCase()&&"4.1"===h&&(u="webkitTransitionEnd",f="webkitAnimationEnd"),r.transitionEnd=u,r.animationEnd=f;var b=[],g=function(){function t(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(r.start,this,!1)}return t.prototype.start=function(e){this.el.addEventListener(r.move,this,!1),this.el.addEventListener(r.end,this,!1),this.moved=!1,this.startX=e.touches?e.touches[0].clientX:e.clientX,this.startY=e.touches?e.touches[0].clientY:e.clientY},t.prototype.move=function(e){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;(Math.abs(t-this.startX)>10||Math.abs(n-this.startY)>10)&&(this.moved=!0)},t.prototype.end=function(t){if(this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1),!this.moved){if("undefined"!=typeof o){var n=new e.CustomEvent(this.tap,{detail:{event:"tap",target:this.element},bubbles:!0,cancelable:!0});this.el.dispatchEvent(n)}this.callback(t)}},t.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},t.prototype.off=function(){this.el.removeEventListener(r.start,this,!1),this.el.removeEventListener(r.move,this,!1),this.el.removeEventListener(r.end,this,!1),null!==r.cancel&&this.el.removeEventListener(r.cancel,this,!1)},t.prototype.handleEvent=function(e){switch(e.type){case r.start:this.start(e);break;case r.move:this.move(e);break;case r.end:this.end(e);break;case r.cancel:this.cancel(e)}},t}();return n.on=function(e,t,n,o){var a=function(e,t,n,o){if(t===r.tap&&(r.hasTouch||r.forceTap)){var a=new g(e,n);return void b.push(a)}t===r.tap&&(t="click"),e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n,o)};if("undefined"==typeof e.length)a(e,t,n,o);else for(var i=0,l=e.length;i<l;i++)a(e[i],t,n,o)},e.on=document.on=NodeList.prototype.on=HTMLElement.prototype.on=function(e,t,o){n.on(this,e,t,o)},n.off=function(e,t,n,o){var a=function(e,t,n,o){if(t!==r.tap||!r.hasTouch&&!r.forceTap)t===r.tap&&(t="click"),e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on"+t,n,o);else for(var a=0,i=b.length;a<i;a++)if(b[a].el===e){b[a].off(),b.splice(a,1);break}};if("undefined"==typeof e.length)a(e,t,n,o);else for(var i=0,l=e.length;i<l;i++)a(e[i],t,n,o)},e.off=document.off=NodeList.prototype.off=HTMLElement.prototype.off=function(e,t,o){n.off(this,e,t,o)},r}(e.jQuery),n.tagManager=function(){if("undefined"!=typeof riot){var e=[],t=function(t,n){t[0].tagName=n,e.push(t[0])},n=function(){return e},o=function(t,n,o){for(var a=[],i=e.length-1;i>=0;i--)if(e[i].tagName===t){a.push(n);var r=a.concat(o);e[i].trigger.apply(this,r);break}};return{addTag:t,getAll:n,trigger:o}}}(),n.options=function(e){var t=!1;"object"==typeof e.i18n&&null!==e.i18n&&(n.i18n(e.i18n),t=!0),e.navigator.useI18n=t,n.navigator(e.navigator)},n.alert=function(e,t,o,a){return n.dialog().alert(e,t,o,a)},n.confirm=function(e,t,o,a,i){return n.dialog().confirm(e,t,o,a,i)},n.prompt=function(e,t,o,a,i){return n.dialog().prompt(e,t,o,a,i)},n.passPrompt=function(e,t,o,a,i){return n.dialog().passPrompt(e,t,o,a,i)},n.indicator=function(e,t){return n.dialog().indicator(e,t)},n.updateLocale=function(e){var t="undefined"!=typeof riot;n.i18n().setPreference(e).getAll(function(e){if(t){for(var o=n.tagManager.getAll(),a=o.length-1;a>=0;a--)o[a].i18n=e;riot.update()}else n.i18n().bind()})},e.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return e.phonon=n})}("undefined"!=typeof window?window:this),function(e,t){function n(e){if(u.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof e.directory&&(e.directory=e.directory.indexOf("/",e.directory.length-"/".length)!==-1?e.directory:e.directory+"/");var t;for(t in e)u[t]=e[t];u.initCalled=!0}function o(e){if(!u.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof e)throw new Error("callback must be a function");var t=u.localePreferred?u.localePreferred:u.localeFallback;if("undefined"!=typeof langCache&&(t in langCache||(console.log("The language ["+t+"] is not available, loading "+u.localeFallback),t=u.localeFallback),c=langCache[t]),null!==c)return void e(c);var n=new XMLHttpRequest;n.open("GET",u.directory+t+".json",!0),n.overrideMimeType&&n.overrideMimeType("application/json; charset=utf-8"),n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||!n.status&&n.responseText.length))c=JSON.parse(n.responseText),e(JSON.parse(n.responseText));else if(4===n.readyState&&200!==n.status&&(n.status||!n.responseText.length)){if(!u.localePreferred)throw new Error("The default locale ["+u.directory+u.localeFallback+".json] file is not found");u.localePreferred=null,console.log("The language ["+t+"] is not available, loading "+u.localeFallback),o(function(t){c=t,e(t)})}},n.send("")}function a(e,t){if("string"!=typeof e&&!(e instanceof Array))throw new Error("key must be a string or an array");var n=e instanceof Array;if(null===c)o(function(o){if(n){for(var a=e.length,i=a-1,r={};i>=0;i--)r[e[i]]=o[e[i]];t(r)}else t(o[e])});else if(n){for(var a=e.length,i=a-1,r={};i>=0;i--)r[e[i]]=c[e[i]];t(r)}else t(c[e])}function i(e,n){var a=e||t,i=n;if(1===arguments.length&&"function"==typeof e&&(a=t,i=e),!f(a))throw new TypeError("Not valid element object "+a);var r=a.querySelectorAll("[data-i18n]");null===c?o(function(e){g(r,e),"function"==typeof i&&i()}):(g(r,c),"function"==typeof i&&i())}function r(e){if("string"!=typeof e)throw new Error("The language must be a string");return u.localePreferred=e,c=null,m}function l(){return u.localePreferred}function s(){return e.navigator.userLanguage||e.navigator.language}var c=null,u={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1},f=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},p=function(e,t){"textContent"in e?e.textContent=t:e.innerText=t},d=function(e,t){e.innerHTML=t},h=function(e,t){e.value=t},b=function(e,t){e.setAttribute("placeholder",t)},g=function(e,t){for(var n=e.length-1;n>=0;n--)for(var o,a=e[n],i=a.getAttribute("data-i18n").trim(),r=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;o=r.exec(i);){var l=o[1].trim(),s=o[2].trim().replace(",","");if(void 0!==t[s])if("text"===l)p(a,t[s]);else if("html"===l)d(a,t[s]);else if("value"===l)h(a,t[s]);else{if("placeholder"!==l)throw new Error("The property: "+l+" is unknown");b(a,t[s])}else console.error("The value: "+s+" does not exist in the JSON file")}},m={};m.init=n,m.getAll=o,m.get=a,m.bind=i,m.setPreference=r,m.getPreference=l,m.getLocale=s,phonon.i18n=function(e){return"object"==typeof e&&n(e),{getAll:function(e){return o(e),this},get:function(e,t){return a(e,t),this},bind:function(e,t){return i(e,t),this},setPreference:function(e){return r(e),this},getPreference:function(){return l()},getLocale:function(){return s()}}}}(window,document),function(e,t,n){"use strict";function o(t,n){"undefined"==typeof e.phononDOM[t]&&(e.phononDOM[t]={});var o='var page = window.phononDOM["'+t+'"];';o+=n;var a=document.createElement("script");a.text=o,document.head.appendChild(a).parentNode.removeChild(a)}function a(){if(W.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("left"),e.off(n.event.animationEnd,a,!1),e.classList.remove("app-active")}u(B),f(N),D=!1}function i(){if(W.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("right"),e.off(n.event.animationEnd,i,!1),e.classList.remove("app-active")}u(B),f(N),D=!1}function r(t,n,o){var a={detail:{page:n},bubbles:!0,cancelable:!0};"undefined"!=typeof o&&(a.detail.req=o);var i=new e.CustomEvent(t,a);document.dispatchEvent(i)}function l(e,t,n){for(var o=0,a=t.length;o<a;o++){var i=t[o];i.event===e&&"function"==typeof i.callback&&i.callback(n)}}function s(t){H&&n.tagManager.trigger(t,"create"),r("pagecreated",t);var o=$(t);if(o.activity instanceof X&&"function"==typeof o.activity.onCreateCallback&&o.activity.onCreateCallback(),l("create",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onCreate;"function"==typeof a&&a()}}function c(t){var o=$(t);e.setTimeout(function(){if(H&&n.tagManager.trigger(t,"ready"),r("pageopened",t),o.activity instanceof X&&"function"==typeof o.activity.onReadyCallback&&o.activity.onReadyCallback(),l("ready",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onReady;"function"==typeof a&&a()}},o.readyDelay)}function u(t){H&&n.tagManager.trigger(t,"transitionend"),r("pagetransitionend",t);var o=$(t);if(o.activity instanceof X&&"function"==typeof o.activity.onTransitionEndCallback&&o.activity.onTransitionEndCallback(),l("transitionend",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onTransitionEnd;"function"==typeof a&&a()}}function f(t){H&&n.tagManager.trigger(t,"hidden"),r("pagehidden",t);var o=$(t);if(o.activity instanceof X&&"function"==typeof o.activity.onHiddenCallback&&o.activity.onHiddenCallback(),l("hidden",o.callbackRegistered),"object"==typeof e.phononDOM[o.name]){var a=e.phononDOM[o.name].onHidden;"function"==typeof a&&a()}}function p(t,o){H&&n.tagManager.trigger(t,"tabchanged",o),r("pagetabchanged",t);var a=$(t);if(a.activity instanceof X&&"function"==typeof a.activity.onTabChangedCallback&&a.activity.onTabChangedCallback(o),l("tabchanged",a.callbackRegistered,o),"object"==typeof e.phononDOM[a.name]){var i=e.phononDOM[a.name].onTabChanged;"function"==typeof i&&i(o)}}function d(t,o,a){function i(){r("pageclosed",t);var n=e.location.hash.split("#")[1];n!==a&&W.useHash?e.location.hash=a:O(a)}if(!x()){var s=$(t);if(!s.async)return void i(!0);var c={close:i};if(H&&n.tagManager.trigger(t,"close",c),s.activity instanceof X&&"function"==typeof s.activity.onCloseCallback&&s.activity.onCloseCallback(c),l("close",s.callbackRegistered,c),"object"==typeof e.phononDOM[s.name]){var u=e.phononDOM[s.name].onClose;"function"==typeof u&&u(c)}}}function h(t,o){if("undefined"!=typeof o){H&&n.tagManager.trigger(t,"hashchanged",o),r("pagehash",t,o);var a=$(t);if(a.activity instanceof X&&"function"==typeof a.activity.onHashChangedCallback&&a.activity.onHashChangedCallback(o),l("hashchanged",a.callbackRegistered,o),"object"==typeof e.phononDOM[a.name]){var i=e.phononDOM[a.name].onHashChanged;"function"==typeof i&&i(o)}}}function b(e,t){"tabchanged"===e&&p(t.page,t.tabNumber)}function g(e,a,i){if(H&&t.compile(function(){W.useI18n?n.i18n().getAll(function(o){n.tagManager.addTag(t.mount(e,{i18n:o}),e),a()}):(n.tagManager.addTag(t.mount(e,{i18n:null}),e),a())}),!H){var r=$(e);if(null!==r.content){if(null===r.nocache||null===r.showloader){var l=function(e){var t=G(e);r.nocache=!1,r.showloader=!1,"true"===t.getAttribute("data-nocache")&&(r.nocache=!0),"true"===t.getAttribute("data-loader")&&(r.showloader=!0)};l(e)}r.showloader&&document.body.classList.add("loading"),m(r.content,function(t){r.showloader&&document.body.classList.remove("loading");var i=G(e),l=document.createElement("div");l.innerHTML=t;var s=l.querySelector(e);if(null===s)throw new Error("Error with "+r.content+" : the template for "+e+" must start with the parent node <"+e+' class="app-page">');for(var c=s.attributes,u=c.length-1;u>=0;u--){var f=c.item(u);"class"!==f.nodeName&&"app-page"!==f.nodeValue&&i.setAttribute(f.nodeName,f.nodeValue)}var p=function(e){var t=e.getElementsByTagName("script");t=Array.prototype.slice.call(t);for(var n=0;n<t.length;n++){var a=t[n].getAttribute("type");"text/javascript"!==a&&null!==a||o(r.name,t[n].innerHTML)}};W.useI18n?n.i18n().bind(s,function(){i.innerHTML=s.innerHTML,p(l),a()}):(i.innerHTML=s.innerHTML,p(l),a())},i)}else a()}}function m(e,t,n){var o=new XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("text/html; charset=utf-8"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||!o.status&&o.responseText.length)&&t(o.responseText,W,e)},"string"!=typeof n?(o.open("GET",W.templateRootDirectory+e,!0),o.send("")):(o.open("POST",W.templateRootDirectory+e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(n))}function v(e,t){t="object"==typeof t?t:{};var n,o={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1,callbackRegistered:[],nocache:null,showloader:null};for(n in t)o[n]=t[n];return o}function y(e,t){t="object"==typeof t?t:{};var n=$(e);if(null===n)return R.push(v(e,t));var o;for(o in t)n[o]=t[o];return!0}function x(){return!("undefined"==typeof n.dialog||!n.dialogUtil.closeActive())||(!("undefined"==typeof n.popover||!n.popoverUtil.closeActive())||(!("undefined"==typeof n.panel||!n.panelUtil.closeActive())||!("undefined"==typeof n.sidePanel||!n.sidePanelUtil.closeActive())))}function E(){var e={page:W.defaultPage,params:""};if(L.length>0){for(var t=-1,n=L.length-1;n>=0;n--)if(L[n].page===B){t=n-1;break}t>-1&&(e=L[t],L=L.slice(0,t))}return e}function S(t){var n,t=t||e.event,o=t.target,a="";if("object"==typeof o&&"FORM"==o.nodeName){var i;for(i=o.elements.length-1;i>=0;i--)if(n=o.elements[i],n.name&&"file"!=n.type&&"reset"!=n.type)if("select-multiple"==n.type)for(j=o.elements[i].options.length-1;j>=0;j--)n.options[j].selected&&(a+="&"+n.name+"="+encodeURIComponent(n.options[j].value).replace(/%20/g,"+"));else("submit"!=n.type&&"button"!=n.type||t.target==n)&&("checkbox"!=n.type&&"radio"!=n.type||n.checked)&&(a+="&"+n.name+"="+encodeURIComponent(n.value).replace(/%20/g,"+"))}return a.substr(1)}function w(e){F=!0;var t=e.target,n=null,o=!1,a="";if("submit"==e.type){var i=t.getAttribute("action");if(i.match(new RegExp("^#"+W.hashPrefix)))return e.preventDefault(),n=i.substr(1+W.hashPrefix.length),d(B,n,W.hashPrefix+n),T(n,function(){},S(e)),P(i.substr(1+W.hashPrefix.length))}for(;t&&t!==document;t=t.parentNode){var r=t.getAttribute("data-navigation");if("undefined"!=typeof t.href&&t.href.indexOf("#!")!==-1){o=!0;break}if(r){n=r;break}}if((!o||!W.useHash)&&(null!==n||o)){var l=W.defaultPage;if(null!==n)if("$previous-page"===n){var s=E();l=s.page,a=s.params}else l=n;else{var c=t.href.match("/#"+W.hashPrefix+"([A-Za-z0-9-.]+)?(.*)/");c&&(l=c[1],a=c[2])}var u=W.hashPrefix+l;""!==a&&(u=u+"/"+a,u=u.replace("//","/")),d(B,l,u)}}function M(e,t){var o=G(e),r=G(t);r.classList.add("app-active"),W.animatePages?(o.classList.add("page-sliding"),I?(o.classList.add("left"),o.on(n.event.animationEnd,a,!1)):(o.classList.add("right"),o.on(n.event.animationEnd,i,!1))):(o.classList.remove("app-active"),I?a():i());for(var l=r.querySelectorAll(".content"),s=l.length-1;s>=0;s--){var c=l[s];null!==c&&0!==c.scrollTop&&(c.scrollTop=0)}t===W.defaultPage&&(L=[])}function T(e,t,o){if(D&&"function"==typeof t)return t();var a=$(e);A&&(D=!0,N=B,B=e),!a.mounted||a.nocache?g(a.name,function(){if(a.mounted=!0,s(e),c(e),A||n.dispatchGlobalReady(),A&&M(N,e),!A){A=!0;var o=G(e);o.classList.contains("app-active")||o.classList.add("app-active")}"function"==typeof t&&t()},o):(c(e),M(N,e),"function"==typeof t&&t())}function C(e){"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)!==-1?e.templateRootDirectory:e.templateRootDirectory+"/"),"object"==typeof e.hashPrefix&&(e.hashPrefix="");var t;for(t in e)W[t]=e[t];W.enableBrowserBackButton&&(F=!0);for(var n=document.querySelectorAll("[data-page]"),o=n.length-1;o>=0;o--){var a=n[o];a.classList.contains("app-page")||a.classList.add("app-page"),y(a.tagName.toLowerCase());
}}function k(){if(A)throw new Error("The app has been already started");var e="";n.device.os&&(e=n.device.os.toLowerCase());var t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),O()}function P(t,n){var o=$(B),a=$(t);if(!a)throw new Error("The following page: "+t+" does not exists");var i=W.hashPrefix+a.name;if("undefined"!=typeof n&&(i=W.hashPrefix+a.name+"/"+n),o.async)d(B,a.name,i);else{var r=e.location.hash.split("/");r[0].indexOf(a.name)===-1&&W.useHash&&(e.location.hash=i)}}function O(t,n){var o,a="string"==typeof t?t:e.location.href.split("#")[1]||"",i=a.split("/"),r=i.slice(1,i.length),l=i[0],s=W.hashPrefix.indexOf("/");s!==-1?(l="undefined"==typeof i[1]?"":i[1],r=i.slice(2,i.length),o=l.substring(s+1,l.length)):o=l.substring(W.hashPrefix.length,l.length);var c=$(o);if(A||c)!A&&c&&(B=c.name);else if(B=W.defaultPage,c=$(W.defaultPage),W.useHash)return void(e.location.hash=W.hashPrefix+W.defaultPage);if(c){if(x(),c.name===B&&A)return void h(c.name,r);if(A&&!F)return;for(var u=!1,f=L.length-1;f>=0;f--)if(L[f].page===c.name){u=!0;break}if(L.length>0?c.name===W.defaultPage&&(I=!1):I=!0,L.length>1&&L[L.length-2].page===c.name&&(I=!1),!u){var p=r.join("/");L.push({page:c.name,params:p})}"function"!=typeof c.callback||c.mounted||c.callback(c.activity),c.mounted?(T(c.name,null,n),h(c.name,r)):T(c.name,function(){h(c.name,r)},n),W.enableBrowserBackButton||(F=!1)}}e.phononDOM={};var R=[],L=[],A=!1,D=!1,B=null,N=null,I=!0,F=!1,H=void 0!==t,W={defaultPage:null,defaultTemplateExtension:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},X=function(){function e(e){if("object"==typeof e){var t;for(t in e)void 0!==this[t]&&"constructor"!==this[t]&&(this[t+"Callback"]=e[t])}}return e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(e){this.onCloseCallback=function(t){e(t)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(e){this.onHashChangedCallback=function(t){e.apply(this,t)}},e.prototype.onTabChanged=function(e){this.onTabChangedCallback=function(t){e(t)}},e}(),$=function(e){for(var t=R.length-1;t>=0;t--)if(R[t].name===e)return R[t];return null},G=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,o=null;n>=0;n--)if(t[n].tagName.toLowerCase()===e){o=t[n];break}return o};document.on("tap",w),document.on("submit",w),W.useHash&&e.addEventListener("hashchange",O),document.on("backbutton",function(){if(!x()){var e=E();d(B,e.page,W.hashPrefix+e.page+"/"+e.params)}}),n.navigator=function(t){return"object"==typeof t&&C(t),{currentPage:B,previousPage:N,start:k,changePage:function(t,n){F=!0;var o=x()?400:1;e.setTimeout(function(){if("$previous-page"==t){var e=E();e&&(t=e.page,n=e.params)}P(t,n)},o)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if("undefined"!=typeof e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if("undefined"!=typeof e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");null!==typeof e.content&&"string"==typeof W.defaultTemplateExtension&&(e.content=e.page+"."+W.defaultTemplateExtension);var n=$(e.page),o=null!==n;o||(n=v(e.page)),"function"==typeof t||"object"==typeof t?n.activity=new X(t):n.activity=null,n.callback=t,n.async="boolean"==typeof e.preventClose&&e.preventClose,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1,y(e.page.toLowerCase(),n)},onPage:function(e){if("string"!=typeof e)throw new Error("PageName must be a string");return y(e,{}),{addEvent:function(t,n){var o=$(e);o.callbackRegistered.push({event:t,callback:n})}}},callCallback:b}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon);
	</script>
	<script name="forms.min.js" phononversion="1.4.5">
		!function(e){"use strict";function t(e){e.on("focus",n),e.on("blur",i)}function n(e){e.target.parentNode.classList.add("input-filled")}function i(e){""===e.target.value.trim()&&e.target.parentNode.classList.remove("input-filled")}function o(e){""===e.value.trim()||e.parentNode.classList.contains("input-filled")||e.parentNode.classList.add("input-filled")}document.on("pagecreated",function(e){for(var n=document.querySelector(e.detail.page),i=n.querySelectorAll("input.with-label"),l=i.length-1;l>=0;l--)t(i[l]),o(i[l])}),document.on("pageopened",function(e){for(var t=document.querySelector(e.detail.page),n=t.querySelectorAll("input.with-label"),i=n.length-1;i>=0;i--)o(n[i])})}("undefined"!=typeof window?window:this);
	</script>
	<title>ESP32 Gong</title>
</head>

<body>
	<!-- the home page is the default one. This page does not require to call its content because we define on its tag.-->
	<home data-page="true">
		<header class="header-bar">
			<div class="center">
				<h1 class="title">ESP32 Gong</h1>
			</div>
		</header>


		<div class="content">

			<ul class="list">
				<li class="divider">ESP32Gong communication APIs (REST calls)</li>
				<div id='apis'>
					<li>
						<span class="padded-list">/api?gong&amp;volume=10</span>
						<button class="btn btn-flat primary pull-right" id="gongplay" data-api="/api?gong&amp;volume=10">play</button>
					</li>
					<li>
				</div>
				<li class="divider">ESP32Gong machine room</li>
				<li>
					<a href="#!pageinfo" class="padded-list">Info</a>
				</li>
				<li>
					<a href="#!pagestorage" class="padded-list">Storage</a>
				</li>
				<li>
					<a href="#!pagefirmwareupdate" class="padded-list">Firmware update</a>
				</li>
				<li>
					<!--<a href="wifisettings.html" class="padded-list">Wifi settings</a>-->
					<a href="#!pagewifisettings" class="padded-list">WIFI Settings</a>
				</li>
				<li>
					<a href="#!pageserversettings" class="padded-list">Web Server Settings</a>
				</li>
			</ul>


		</div>

	</home>

	<!-- for the second page, Phonon will load its content. -->
	<pageinfo data-page="true">
		<header class="header-bar">
			<button class="btn icon icon-arrow-back pull-left" data-navigation="$previous-page"></button>
			<div class="center">
				<h1 class="title">Info</h1>
			</div>
		</header>
		<div class="content">
			<ul class="list">
				<li class="divider">Device</li>
				<!--<li class="padded-list">ID: <span id="esp32id">-</span></li>-->
				<li class="divider">System</li>
				<!-- TODO class=pull-right doesnt work for wider strings -->
				<li class="padded-list">Heap: <span id="infoheap">-</span></li>
				<li class="padded-list">Temperature: <span id="infotemperature">-</span></li>
				<li class="padded-list">Firmware: <span id="infofirmwareversion">-</span></li>
				<li class="divider" id="networkmode">Network</li>
				<li class="padded-list" id="liinfolastiptoap">Last IP from DHCP: <span id="infolastiptoap">-</span></li>
				<li class="padded-list" id="liinfossid">SSID: <span id="infossid">-</span></li>
				<li class="padded-list" id="liinfoipaddress">IP: <span id="infoipaddress">-</span></li>
				<li class="padded-list" id="liinfoipsubnetmask">Subnetmask: <span id="infoipsubnetmask">-</span></li>
				<li class="padded-list" id="liinfoipgateway">Gateway: <span id="infoipgateway">-</span></li>
				<li class="padded-list" id="liinfomacaddress">Macaddress: <span id="infomacaddress">-</span></li>
				<li class="padded-list" id="lirssi">Signal strength: <span id="rssi">-</span></li>
				<li class="padded-list" id="liapchannel">Channel: <span id="apchannel">-</span></li>
				<li class="padded-list" id="liinfohostname">Hostname: <span id="infohostname">-</span></li>
			</ul>
		</div>
	</pageinfo>

	<pagefirmwareprogress data-page="true">
		<header class="header-bar">
			<div class="center">
				<h1 class="title">Firmware update</h1>
			</div>
		</header>
		<div class="content">
			<div class="padded-full">
				<div id="progressbar">
					<div id="progressbarinner"></div>
				</div>
				<p id="statusText" class="padded-top padded-bottom">
				</p>
				<a id="nextButton" hidden class="btn fit-parent primary" href="/">Next</a>
			</div>
		</div>
	</pagefirmwareprogress>

	<pagefirmwareupdate data-page="true">
		<header class="header-bar">
			<button class="btn icon icon-arrow-back pull-left" data-navigation="$previous-page"></button>
			<div class="center">
				<h1 class="title">Firmware upload</h1>
			</div>
		</header>
		<div class="content">
			<div class="input-wrapper list">
				<ul class="list">
					<li class="divider">from update server</li>
					<li class="padded-list">
						<div id="versiondisplay">Checking for newer version...</div>
						<div><font color="red" id="versionerror" style="Display:None">Failed to connect firmwareserver to check for new version!</font></div>
						<button class="btn btn-flat primary" id="firmware_update" style="Display:None">download and update</button>
					</li>
					<li class="padded-list">
						<button class="btn btn-flat primary" id="firmware_restart">restart</button>
					</li>
					<li class="padded-list">
						<button class="btn btn-flat primary" id="firmware_switchbootpartition">switch to previus firmware (if available)</button>
					</li>
					<li class="divider">manual update</li>
				</ul>

				<form method='POST' action='/update' enctype='multipart/form-data' id='firmwareuploadform'>
					<span class="padded-list">Select firmware file esp32gong.bin</span>
					<li>
						<input class="padded-full" type="file" name="update" id="firmwarefilename" accept=".bin"/>
					</li>
					<li>
						<span class="padded-list"><font color="red" id="firmwareuploadererror"></font></span>
						<button class="btn btn-submit fit-parent primary" type='button' id='uploadFirmware'>Update</button>
					</li>
				</form>
			</div>
		</div>
	</pagefirmwareupdate>

	<pagestorage data-page="true">
		<header class="header-bar">
			<button class="btn icon icon-arrow-back pull-left" data-navigation="$previous-page"></button>
			<div class="center">
				<h1 class="title">Storage</h1>
			</div>
		</header>
		<div class="content">
			<div class="input-wrapper list">
				<ul class="list">
					<li class="divider">storage</li>
					<li class="padded-list">
						<div id="storage.displayloading">Checking for storage information...</div>
						<div id="storage.display">Total storage: <span id="storage.totalbytes">-</span>   Free storage: <span id="storage.freebytes">-</span></div>
						<div><font color="red" id="storageerror" style="Display:None">error retrieving storage info!</font></div>
					</li>
					<span id="storage.dirlist"></span>
					<li class="divider">file upload</li>
				</ul>

				<form method='POST' action='/fileupload' enctype='multipart/form-data' id='fileuploadform'>
					<span class="padded-list">Select file to upload. Available space <span id="storage.freebytes">-</span></span>
					<li>
						<input class="padded-full" type="file" name="upload" id="filename" accept=".wav"/>
					</li>
					<li>
						<span class="padded-list"><font color="red" id="fileuploadererror"></font></span>
						<button class="btn btn-submit fit-parent primary" type='button' id='uploadfile'>Upload</button>
					</li>
					note: 8bit-pcm encoded 16khz wav files work well
				</form>
			</div>

		</div>
	</pagestorage>
 

	<pagewifisettings data-page="true">
		<header class="header-bar">
			<button class="btn icon icon-arrow-back pull-left" data-navigation="$previous-page"></button>
			<div class="center">
				<h1 class="title">Dynatrace ESP32Gong - Configure WIFI</h1>
			</div>
		</header>
		<div class="content">
			<div class="padded-full">
				<ul style="color:dimgrey">
					<b>Welcome to the ESP32Gong</b><br/>Firmware version: <span id="firmwareversion">---</span>
					<p></p><br/>
					<span style="color:dimgrey">Please configure the Wifi settings of your ESP32Gong first. In order to access the ESP32Gong AFTER submitting the Wifi settings, you may do the following:</span>
					<li>Option 1: Open your browser, make sure its connected to the same Wifi as the ESP32Gong. Goto <a href="http://ESP32Gong">http://esp32gong</a>
					</li>
					<li>Option 2: The lower ring visualizes the current IP address digit by digit. 192.168... will light 1 led then 9 (5+4)
						then 2 and so on. A dot is visualized as 3 white leds. The individuL digits are separated by a short white flash. The
						IP is visualized over and over again until the first api rest call is issued. To stay in sync every IP address visualization
						run uses a different color.</li>
					<li>Option 3: After a successful connection to the Wifi switch back to Access Point mode (push the button) and look at the
						info section for the latest IP adress retrieved by DHCP.
					</li>
					<!-- no SSDP available right now  
				<li>Option 3: Open Windows file explorer and click on "Network" to display all devices that are discovered through SSDP.
				</li>
				-->
					<li>Option 4: Remember your MAC address <b><span id="macaddress">---</span></b> as you may want to lookup the IP address
						in your Wifi Accesspoint.
					</li>
				</ul>

				<form method='POST' action='/config' id='configwifiform'>

					<div class="padded-full">

						<ul class="list">
							<li class="divider"></li>
							<li class="padded-for-list">
								<label class="radio">
									<input type="radio" name="wifimode" value="1" id="wifimode1" onchangex="wifiModeChange(1);" checked>
									WPA/WPA2
									<span></span>
								</label>
							</li>
							<li class="padded-for-list">
								<label class="radio">
									<input type="radio" name="wifimode" value="2" id="wifimode2" onchangex="wifiModeChange(2);">
									WPA2-Enterprise
									<span></span>
								</label>
							</li>
							<li class="divider"></li>
						</ul>

						SSID:<br>
						<input type="text" name="wifissid" id="ssid" />
						<div id="wpafields">
							Password:<br>
							<input type="password" name="wifipwd" id="wifipwd" />
						</div>
						<div id="enterprisefields" style='Display:None'>
							Enterprise WPA2 User:<br>
							<input type="text" name="wifientuser" id="enterpriseuser" /> 
							Enterprise WPA2 Password:<br>
							<input type="password" name="wifientpwd" id="enterprisepass" /> 
							Enterprise WPA2 Certificate Authority (optional):<br>
							<textarea name="wifientca" id="enterpriseca" style='Height:100px'></textarea>
						</div>
						Hostname:<br>
						<input type="text" name="wifihostname" placeholder="default=esp32gong" id="wifihostname" />
					</div>
					<div class="padded-full">
						<span class="padded-list"><font color="red" id="configwifierror"></font></span>
						<button class="btn btn-submit fit-parent primary" type='button' id='configureWifi'>Apply WIFI settings and reboot.</button>
					</div>
				</form> 
			</div>
		</div>
	</pagewifisettings>
	<pageserversettings data-page="true">
		<header class="header-bar">
			<button class="btn icon icon-arrow-back pull-left" data-navigation="$previous-page"></button>
			<div class="center">
				<h1 class="title">ESP32Gong - Configure Web Server</h1>
			</div>
		</header>
		<div class="content">
			<div class="input-wrapper list">
				<form method='POST' action='/srvconfig' id='configserverform'>
					<input type='hidden' name='currenthost' id='currenthost'/>
					<div class="padded-full">
						<ul class="list">
							<li class="">
								<label class="checkbox">
                                <input type="checkbox" class="" name="sslenabled" id="sslenabled">
                                Use HTTPS (TLS)
                                <span></span>
                            </label>
							</li>
							Listen Port (optional):<br>
							<input type="number" name="listenport" id="listenport" />
							Custom Certificate + Private Key (optional)
							<textarea name="servercert" id="servercert" style='Height:100px'></textarea>
						</ul>
					</div>
					<div class="padded-full">
						<span class="padded-list"><font color="red" id="configservererror"></font></span>
						<button class="btn btn-submit fit-parent primary" type='button' id='configureServer'>Apply settings and reboot.</button>
					</div>
				</form>
			</div>
		</div>
	</pageserversettings>

	<pageapiedit data-page="true">
		<header class="header-bar">
			<button class="btn icon icon-arrow-back pull-left" data-navigation="$previous-page"></button>
			<div class="center">
				<h1 class="title">Dynatrace ESP32Gong - Configure APIs</h1>
			</div>
		</header>
		<div class="content">
			<div class="padded-full">

				<form method='GET' action='/apiedit'>
					<div class="padded-full">
						API:<br>
						<input type='hidden' name='apiid' id="apieditid" />
						<input type="text" name="apiedit" id="apiedit" value="" />
					</div>
					<div class="padded-full">
						<span class="padded-list"><button class="btn btn-submit primary" type="submit" name="save" value="1">SAVE</button></span>
						<span class="padded-list"><button class="btn btn-submit" type="submit" name="delete" value="1">Delete</button></span>
					</div>
				</form>
			</div>
		</div>
	</pageapiedit>


	<!-- scripts -->
	<!--  <script src="phonon-core.min.js"></script> -->

	<!-- our app config -->
	<!-- <script src="app.js"></script> -->
	<script>
		var editIt = function (apiid) {
			window.location.href = "#!pageapiedit/" + apiid;
		}

		phonon.options({
			navigator: {
				defaultPage: 'home',
				animatePages: true,
				enableBrowserBackButton: true
				//templateRootDirectory: ''
			},
			i18n: null // for this example, we do not use internationalization
		});

		
		var app = phonon.navigator();

		/**
		 * The activity scope is not mandatory.
		 * For the home page, we do not need to perform actions during
		 * page events such as onCreate, onReady, etc
		*/

		app.on({ page: 'home', preventClose: false, content: null }, function (activity) {
			var onApi = function (evt) {
				var target = evt.target;
				var apicall = target.getAttribute('data-api');
				console.log(apicall);

				var req = phonon.ajax({
					method: 'GET',
					url: apicall,
					dataType: 'json',
					success: function (res, xhr) {
						console.log(res);
					},

					error: function (res, flagError, xhr) {
						console.error(flagError);
						console.log(res);
					}
				});

			};

			var onFirmwareUpdate = function (evt) {
				evt.preventDefault();
				var req = phonon.ajax({
					method: 'GET',
					url: '/firmware?update',
					success: function (res, xhr) {
						phonon.navigator().changePage('pagefirmwareprogress');
						//console.log("initiated firmware update successfully.")

					},
					error: function (res, flagError, xhr) {
						console.error(flagError);
						console.log(res);
					}
				});
			};

			var onSwitchBootPartition = function (evt) {
				var req = phonon.ajax({
					method: 'GET',
					url: 'firmware?switchbootpartition',
					success: function (res, xhr) {
						//console.log(res);
					},

					error: function (res, flagError, xhr) {
						console.error(flagError);
						console.log(res);
					}
				});
			};

			var onRestart = function (evt) {
				var req = phonon.ajax({
					method: 'GET',
					url: 'firmware?restart',
					success: function (res, xhr) {
						//console.log(res);
					},

					error: function (res, flagError, xhr) {
						console.error(flagError);
						console.log(res);
					}
				});
			};

			var continueHome = function() {
				document.querySelector('#gongplay').on('click', onApi);
				document.querySelector('#gongplay').on('tap', onApi);
			};

			activity.onCreate(function () {
				document.querySelector('#firmware_update').on('tap', onFirmwareUpdate);
				document.querySelector('#firmware_restart').on('tap', onRestart);
				document.querySelector('#firmware_switchbootpartition').on('tap', onSwitchBootPartition);
				document.querySelector('#firmware_update').on('click', onFirmwareUpdate);
				document.querySelector('#firmware_restart').on('click', onRestart);
				document.querySelector('#firmware_switchbootpartition').on('click', onSwitchBootPartition);
			});

			activity.onReady(function() {
				phonon.ajax({
					method: 'GET',
					url: '/firmware?progress',
					dataType: 'json',
					success: function (res, xhr) {
						if(res.status === 'notyetstarted') {
							continueHome();
						} else {
							phonon.navigator().changePage('pagefirmwareprogress');
						}
					},
					error: function() {
						continueHome();
					}
				});
			})
		});


		app.on({ page: 'pagefirmwareprogress', preventClose: false, content: null }, function (activity) {
			activity.onReady(function() {
				//console.log("pagefirmwareprogress onReady");

				var bar = document.getElementById('progressbarinner');
				var text = document.getElementById('statusText');
				var btn = document.getElementById('nextButton');
				btn.hidden = true;
				var messages = {
					inprogress: 'Firmware update in progress.',
					finishedsuccess: 'Firmware successfully updated. Rebooting now.',
					connectionerror: 'Firmware could not be downloaded.',
					flasherror: 'Firmware could not be flashed.',
					notyetstarted: 'Firmware update is being prepared. Please wait.'
				};

				var errorState = function(time) {
					setTimeout(function() {
						btn.hidden = false;
					}, time || 30000)
				};

				var stateHandling = {
					finishedsuccess: function(res) {
						setTimeout(function() {
							bar.style.width = '100%';
							btn.hidden = false;
						}, 10000);
					},
					connectionerror: function(res) {
						errorState();
					},
					flasherror: function(res) {
						errorState();
					}
				}

				var atLeast = function(lower, amount) {
					if(amount < lower) {
						return lower;
					}
					return amount;
				};
				
				var update = function() {
					phonon.ajax({
						method: 'GET',
						url: '/firmware?progress',
						dataType: 'json',
						success: function (res, xhr) {
							try {
								// bar.style.width = atLeast(0, parseInt(res.progress) - 5) + '%';
								bar.style.width = parseInt(res.progress) + '%';
								text.innerHTML = messages[res.status] || '&nbsp;';
								if(res.status === 'inprogress' || res.status === 'notyetstarted') {
									setTimeout(update, 1000);
								} else {
									var handle = stateHandling[res.status];
									if(typeof handle !== 'undefined') handle(res);
								}
							} catch(e) {
								text.innerHTML = 'undefined error! Please wait';
								errorState(5000);
							}
						}
					});
				};

				update();
			});
		});

		document.on('pageopened', function (evt) {
			//
			console.log(evt.detail.page + ' is opened');
			if (evt.detail.page == "pageinfo") {

				var req = phonon.ajax({
					method: 'GET',
					url: 'info',
					//crossDomain: false,
					dataType: 'text/json',
					success: function (res, xhr) {
						//
						console.log(xhr.response);
						var result = JSON.parse(xhr.response);
						//document.getElementById('esp32id').innerHTML = result.esp32id;
						document.getElementById('infoheap').innerHTML = result.heap;
						document.getElementById('infofirmwareversion').innerHTML = result.firmwareversion;
						document.getElementById('infomacaddress').innerHTML = result.macaddress;
						document.getElementById('infotemperature').innerHTML = result.temperature;
						if (result.apmode == '1')
							document.getElementById('networkmode').innerHTML = 'Network - Access Point mode';
						else
							document.getElementById('networkmode').innerHTML = 'Network';
						if (result.hostname) {
							document.getElementById('infossid').innerHTML = result.ssid;
							delete document.getElementById('liinfossid').style;
						}
						else
							document.getElementById('liinfossid').style = 'Display:None';
						if (result.ssid) {
							document.getElementById('infohostname').innerHTML = result.hostname;
							delete document.getElementById('liinfohostname').style;
						}
						else
							document.getElementById('liinfohostname').style = 'Display:None';
						if (result.ipaddress) {
							document.getElementById('infoipaddress').innerHTML = result.ipaddress;
							delete document.getElementById('liinfoipaddress').style;
						}
						else
							document.getElementById('liinfoipaddress').style = 'Display:None';
						if (result.ipgateway) {
							document.getElementById('infoipgateway').innerHTML = result.ipgateway;
							delete document.getElementById('liinfoipgateway').style;
						}
						else
							document.getElementById('liinfoipgateway').style = 'Display:None';
						if (result.ipsubnetmask) {
							document.getElementById('infoipsubnetmask').innerHTML = result.ipsubnetmask;
							delete document.getElementById('liinfoipsubnetmask').style;
						}
						else
							document.getElementById('liinfoipsubnetmask').style = 'Display:None';
						if (result.lastiptoap) {
							document.getElementById('infolastiptoap').innerHTML = result.lastiptoap;
							delete document.getElementById('liinfolastiptoap').style;
						}
						else
							document.getElementById('liinfolastiptoap').style = 'Display:None';
						if (result.rssi) {
							document.getElementById('rssi').innerHTML = result.rssi + ' dBm';
							delete document.getElementById('lirssi').style;
						}
						else
							document.getElementById('lirssi').style = 'Display:None';
						if (result.channel) {
							document.getElementById('apchannel').innerHTML = result.channel;
							delete document.getElementById('liapchannel').style;
						}
						else
							document.getElementById('liapchannel').style = 'Display:None';



					},
					error: function (res, flagError, xhr) {
						console.error(flagError);
						console.log(res);
					}
				});
			}
			if (evt.detail.page == "pagewifisettings") {
				var configureWifi = function(){
					input = document.getElementById('enterpriseca');
					if (input.value.length  > 10240){
						var text = "Certificate Athority is too big (";
						text += input.value.length;
						text += "B)! Max size is 10kB";
						document.getElementById('configwifierror').innerText = text;
					}
					else{
						document.getElementById('configwifierror').innerText = "";
						document.getElementById('configwifiform').submit();
					}
				}
				document.querySelector('#configureWifi').on('tap', configureWifi);
				document.querySelector('#configureWifi').on('click', configureWifi);
			
				var wifiModeChange1 = function() {
					document.getElementById('enterprisefields').style.display = 'none';
					document.getElementById('wpafields').style.display = '';
				}
				var wifiModeChange2 = function() {
					document.getElementById('enterprisefields').style.display = '';
					document.getElementById('wpafields').style.display = 'none';
				}
				document.querySelector('#wifimode1').on('change', wifiModeChange1);
				document.querySelector('#wifimode2').on('change', wifiModeChange2);

				var req = phonon.ajax({
					method: 'GET',
					url: 'info',
					dataType: 'text/json',
					success: function (res, xhr) {
						//console.log(xhr.response);
						var result = JSON.parse(xhr.response);
						if (result.enterpriseuser.length > 0){
							document.getElementById('enterpriseuser').value =  result.enterpriseuser;
							document.getElementById('wifimode2').checked = true;
							wifiModeChange0();
						}
						else
							wifiModeChange1();
						document.getElementById('ssid').value = result.ssid;
						document.getElementById('macaddress').innerHTML = result.macaddress;
						document.getElementById('wifihostname').value = result.hostname;
						document.getElementById('firmwareversion').innerHTML = result.firmwareversion;
					},
					error: function (res, flagError, xhr) {
						console.error(flagError);
						console.log(res);
					}
				});
			}
			if (evt.detail.page == "pageserversettings") {
				var configureServer = function(){
					input = document.getElementById('servercert');
					if (input.value.length  > 10240){
						var text = "Certificate is too big (";
						text += input.value.length;
						text += "B)! Max size is 10kB";
						document.getElementById('configservererror').innerText = text;
					}
					else{
						document.getElementById('currenthost').value = window.location.host;
						document.getElementById('configservererror').innerText = "";
						document.getElementById('configserverform').submit();
					}
				}
				document.querySelector('#configureServer').on('tap', configureServer);
				document.querySelector('#configureServer').on('click', configureServer);

				var req = phonon.ajax({
					method: 'GET',
					url: 'info',
					dataType: 'text/json',
					success: function (res, xhr) {
						//console.log(xhr.response);
						var result = JSON.parse(xhr.response);
						document.getElementById('sslenabled').checked = (result.sslenabled == '1');
						if (result.listenport > 0)
							document.getElementById('listenport').value = result.listenport;
					},
					error: function (res, flagError, xhr) {
						console.error(flagError);
						console.log(res);
					}
				});
			}

			if (evt.detail.page == "pagefirmwareupdate") {
				var uploadFirmware = function(){
					input = document.getElementById('firmwarefilename');
					if (input && input.files && !input.files[0]) 
						document.getElementById('firmwareuploadererror').innerText = "Please select a file before clicking 'Upload'";
						//input.files[0].size > 10240...
					else{
						document.getElementById('firmwareuploadererror').innerText = "";
						document.getElementById('firmwareuploadform').submit();
					}
				}
				document.querySelector('#uploadFirmware').on('tap', uploadFirmware);
				document.querySelector('#uploadFirmware').on('click', uploadFirmware);

				var req = phonon.ajax({
					method: 'GET',
					url: 'checkfirmware',
					//crossDomain: false,
					dataType: 'text/json',
					success: function (res, xhr) {
						//console.log(xhr.response);
						var result = JSON.parse(xhr.response);
						if (result.newversion && (result.newversion != "")){
							button = document.getElementById('firmware_update').style.display = '';
							document.getElementById('versiondisplay').innerText = result.newversion;
						}
						else{
							document.getElementById('versiondisplay').innerText = 'Version is up to date!';
						}
					},
					error: function (res, flagError, xhr) {
						document.getElementById('versiondisplay').style.display  = 'None';
						document.getElementById('versionerror').style.display = '';

					}
				});
			}

			if (evt.detail.page == "pagestorage") {
				var uploadFile = function(){
					input = document.getElementById('filename');
					if (input && input.files && !input.files[0]) 
						document.getElementById('fileuploadererror').innerText = "Please select a file before clicking 'Upload'";
						//input.files[0].size > 10240...
					else{
						document.getElementById('fileuploadererror').innerText = "";
						document.getElementById('fileuploadform').submit();
					}
				}
				document.querySelector('#uploadfile').on('tap', uploadFile);
				document.querySelector('#uploadfile').on('click', uploadFile);

				var req = phonon.ajax({
					method: 'GET',
					url: 'storage?info',
					//crossDomain: false,
					dataType: 'text/json',
					success: function (res, xhr) {
						//console.log(xhr.response);
						var result = JSON.parse(xhr.response);
						if (result.totalbytes){
							document.getElementById('storage.totalbytes').innerHTML = result.totalbytes;
							document.getElementById('storage.freebytes').innerHTML = result.freebytes;
							
							var dirList = "";

							var files = result.files;
							for(var i in files)
							{

//            <a href="#action" class="pull-right icon icon-edit"></a>
//            <a href="#item" class="padded-list">Link</a>
								dirList += '<li>';
								dirList += 		'<a href="/api?gong&file=' + files[i].filename + '&volume=10" class="padded-list">' + files[i].filename  
								dirList += 			' (' + files[i].bytes + ' bytes)</a>';
								dirList += 		'<a href="/storage?deletefile=' + files[i].filename + '" class="pull-right ">DELETE</a>';
								dirList += '</li>';
								document.getElementById('storage.dirlist').innerHTML = dirList;
							}
							document.getElementById('storage.dirlist').innerHTML = dirList;

							//document.getElementById('filesdisplay').innerText = result.newversion;
						}
						else{
							document.getElementById('filesdisplay').innerText = '*****something didnt work****!';
						}
					},
					error: function (res, flagError, xhr) {
						document.getElementById('filesdisplay').style.display  = 'None';
						document.getElementById('fileserror').style.display = '';

					}
				});
			}


		});

		app.on({ page: 'pageinfo', preventClose: false, content: null }, function (activity) {
		});
	</script>

	<script>
			// Let's go!
			app.start();
	</script>





</body>


</html>
